!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.localforage=t():e.localforage=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){e[t]=function(){var r=arguments;return e.ready().then(function(){return e[t].apply(e,r)})}}function a(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&(B(t[r])?arguments[0][r]=t[r].slice():arguments[0][r]=t[r])}return arguments[0]}function u(e){for(var t in j)if(j.hasOwnProperty(t)&&j[t]===e)return!0;return!1}t.__esModule=!0;var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=r(11),c=n(s),l=r(13),d=n(l),v=r(12),h=n(v),y=r(7),p=n(y),b=r(9),g=n(b),_=r(8),m=n(_),w=r(3),S=n(w),E=r(1),I=n(E),x=r(10),A=n(x),R={},j={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},k=[j.INDEXEDDB,j.WEBSQL,j.LOCALSTORAGE],N=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],D={description:"",driver:k.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},O={};O[j.INDEXEDDB]=(0,c["default"])(),O[j.WEBSQL]=(0,d["default"])(),O[j.LOCALSTORAGE]=(0,h["default"])();var B=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},L=function(){function e(t){o(this,e),this.INDEXEDDB=j.INDEXEDDB,this.LOCALSTORAGE=j.LOCALSTORAGE,this.WEBSQL=j.WEBSQL,this._defaultConfig=a({},D),this._config=a({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return e.prototype.config=function(e){if("object"===("undefined"==typeof e?"undefined":f(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e)"storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),this._config[t]=e[t];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,r){var n=new I["default"](function(t,r){try{var n=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),i=new Error("Custom driver name already in use: "+e._driver);if(!e._driver)return void r(o);if(u(e._driver))return void r(i);for(var a=N.concat("_initStorage"),f=0;f<a.length;f++){var s=a[f];if(!s||!e[s]||"function"!=typeof e[s])return void r(o)}var c=I["default"].resolve(!0);"_support"in e&&(c=e._support&&"function"==typeof e._support?e._support():I["default"].resolve(!!e._support)),c.then(function(r){O[n]=r,R[n]=e,t()},r)}catch(l){r(l)}});return(0,A["default"])(n,t,r),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,r){var n=this,o=I["default"].resolve().then(function(){if(!u(e)){if(R[e])return R[e];throw new Error("Driver not found.")}switch(e){case n.INDEXEDDB:return p["default"];case n.LOCALSTORAGE:return m["default"];case n.WEBSQL:return g["default"]}});return(0,A["default"])(o,t,r),o},e.prototype.getSerializer=function(e){var t=I["default"].resolve(S["default"]);return(0,A["default"])(t,e),t},e.prototype.ready=function(e){var t=this,r=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return(0,A["default"])(r,e,e),r},e.prototype.setDriver=function(e,t,r){function n(){i._config.driver=i.driver()}function o(e){return function(){function t(){for(;r<e.length;){var o=e[r];return r++,i._dbInfo=null,i._ready=null,i.getDriver(o).then(function(e){return i._extend(e),n(),i._ready=i._initStorage(i._config),i._ready})["catch"](t)}n();var a=new Error("No available storage method found.");return i._driverSet=I["default"].reject(a),i._driverSet}var r=0;return t()}}var i=this;B(e)||(e=[e]);var a=this._getSupportedDrivers(e),u=null!==this._driverSet?this._driverSet["catch"](function(){return I["default"].resolve()}):I["default"].resolve();return this._driverSet=u.then(function(){var e=a[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then(function(e){i._driver=e._driver,n(),i._wrapLibraryMethodsWithReady(),i._initDriver=o(a)})})["catch"](function(){n();var e=new Error("No available storage method found.");return i._driverSet=I["default"].reject(e),i._driverSet}),(0,A["default"])(this._driverSet,t,r),this._driverSet},e.prototype.supports=function(e){return!!O[e]},e.prototype._extend=function(e){a(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,n=e.length;n>r;r++){var o=e[r];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0;e<N.length;e++)i(this,N[e])},e.prototype.createInstance=function(t){return new e(t)},e}();t["default"]=new L,e.exports=t["default"]},function(e,t,r){"use strict";t.__esModule=!0,r(16),t["default"]=Promise,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t,r,n,o,i,a=.75*e.length,u=e.length,f=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var s=new ArrayBuffer(a),l=new Uint8Array(s);for(t=0;u>t;t+=4)r=c.indexOf(e[t]),n=c.indexOf(e[t+1]),o=c.indexOf(e[t+2]),i=c.indexOf(e[t+3]),l[f++]=r<<2|n>>4,l[f++]=(15&n)<<4|o>>2,l[f++]=(3&o)<<6|63&i;return s}function i(e){var t,r=new Uint8Array(e),n="";for(t=0;t<r.length;t+=3)n+=c[r[t]>>2],n+=c[(3&r[t])<<4|r[t+1]>>4],n+=c[(15&r[t+1])<<2|r[t+2]>>6],n+=c[63&r[t+2]];return r.length%3===2?n=n.substring(0,n.length-1)+"=":r.length%3===1&&(n=n.substring(0,n.length-2)+"=="),n}function a(e,t){var r="";if(e&&(r=e.toString()),e&&("[object ArrayBuffer]"===e.toString()||e.buffer&&"[object ArrayBuffer]"===e.buffer.toString())){var n,o=v;e instanceof ArrayBuffer?(n=e,o+=y):(n=e.buffer,"[object Int8Array]"===r?o+=b:"[object Uint8Array]"===r?o+=g:"[object Uint8ClampedArray]"===r?o+=_:"[object Int16Array]"===r?o+=m:"[object Uint16Array]"===r?o+=S:"[object Int32Array]"===r?o+=w:"[object Uint32Array]"===r?o+=E:"[object Float32Array]"===r?o+=I:"[object Float64Array]"===r?o+=x:t(new Error("Failed to get type for BinaryArray"))),t(o+i(n))}else if("[object Blob]"===r){var a=new FileReader;a.onload=function(){var r=l+e.type+"~"+i(this.result);t(v+p+r)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(u){console.error("Couldn't convert value into a JSON string: ",e),t(null,u)}}function u(e){if(e.substring(0,h)!==v)return JSON.parse(e);var t,r=e.substring(A),n=e.substring(h,A);if(n===p&&d.test(r)){var i=r.match(d);t=i[1],r=r.substring(i[0].length)}var a=o(r);switch(n){case y:return a;case p:return(0,s["default"])([a],{type:t});case b:return new Int8Array(a);case g:return new Uint8Array(a);case _:return new Uint8ClampedArray(a);case m:return new Int16Array(a);case S:return new Uint16Array(a);case w:return new Int32Array(a);case E:return new Uint32Array(a);case I:return new Float32Array(a);case x:return new Float64Array(a);default:throw new Error("Unknown type: "+n)}}t.__esModule=!0;var f=r(4),s=n(f),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l="~~local_forage_type~",d=/^~~local_forage_type~([^~]+)~/,v="__lfsc__:",h=v.length,y="arbf",p="blob",b="si08",g="ui08",_="uic8",m="si16",w="si32",S="ur16",E="ui32",I="fl32",x="fl64",A=h+y.length,R={serialize:a,deserialize:u,stringToBuffer:o,bufferToString:i};t["default"]=R,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,o=new n,i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(t.type)}}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(){return"undefined"!=typeof indexedDB?indexedDB:"undefined"!=typeof webkitIndexedDB?webkitIndexedDB:"undefined"!=typeof mozIndexedDB?mozIndexedDB:"undefined"!=typeof OIndexedDB?OIndexedDB:"undefined"!=typeof msIndexedDB?msIndexedDB:void 0}t.__esModule=!0;var n=r();t["default"]=n,e.exports=t["default"]},function(e,t){function r(){s=!1,a.length?f=a.concat(f):c=-1,f.length&&n()}function n(){if(!s){var e=setTimeout(r);s=!0;for(var t=f.length;t;){for(a=f,f=[];++c<t;)a&&a[c].run();c=-1,t=f.length}a=null,s=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var a,u=e.exports={},f=[],s=!1,c=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];f.push(new o(e,t)),1!==f.length||s||setTimeout(n,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=i,u.addListener=i,u.once=i,u.off=i,u.removeListener=i,u.removeAllListeners=i,u.emit=i,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),o=0;t>o;o++)n[o]=e.charCodeAt(o);return r}function i(e){return new L["default"](function(t,r){var n=new XMLHttpRequest;n.open("GET",e),n.withCredentials=!0,n.responseType="arraybuffer",n.onreadystatechange=function(){return 4===n.readyState?200===n.status?t({response:n.response,type:n.getResponseHeader("Content-Type")}):void r({status:n.status,response:n.response}):void 0},n.send()})}function a(e){return new L["default"](function(t,r){var n=(0,N["default"])([""],{type:"image/png"}),o=e.transaction([M],"readwrite");o.objectStore(M).put(n,"key"),o.oncomplete=function(){var n=e.transaction([M],"readwrite"),o=n.objectStore(M).get("key");o.onerror=r,o.onsuccess=function(e){var r=e.target.result,n=URL.createObjectURL(r);i(n).then(function(e){t(!(!e||"image/png"!==e.type))},function(){t(!1)}).then(function(){URL.revokeObjectURL(n)})}},o.onerror=o.onabort=r})["catch"](function(){return!1})}function u(e){return"boolean"==typeof R?L["default"].resolve(R):a(e).then(function(e){return R=e})}function f(e){var t=j[e.name],r={};r.promise=new L["default"](function(e){r.resolve=e}),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then(function(){return r.promise}):t.dbReady=r.promise}function s(e){var t=j[e.name],r=t.deferredOperations.pop();r&&r.resolve()}function c(e,t){return new L["default"](function(r,n){if(e.db){if(!t)return r(e.db);f(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var i=O["default"].open.apply(O["default"],o);t&&(i.onupgradeneeded=function(t){var r=i.result;try{r.createObjectStore(e.storeName),t.oldVersion<=1&&r.createObjectStore(M)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(){n(i.error)},i.onsuccess=function(){r(i.result),s(e)}})}function l(e){return c(e,!1)}function d(e){return c(e,!0)}function v(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,o=e.version>e.db.version;if(n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||r){if(r){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function h(e){return new L["default"](function(t,r){var n=new FileReader;n.onerror=r,n.onloadend=function(r){var n=btoa(r.target.result||"");t({__local_forage_encoded_blob:!0,data:n,type:e.type})},n.readAsBinaryString(e)})}function y(e){var t=o(atob(e.data));return(0,N["default"])([t],{type:e.type})}function p(e){return e&&e.__local_forage_encoded_blob}function b(e){var t=this,r=t._initReady().then(function(){var e=j[t._dbInfo.name];return e&&e.dbReady?e.dbReady:void 0});return r.then(e,e),r}function g(e){function t(){return L["default"].resolve()}var r=this,n={db:null};if(e)for(var o in e)n[o]=e[o];j||(j={});var i=j[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},j[n.name]=i),i.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=b);for(var a=[],u=0;u<i.forages.length;u++){var f=i.forages[u];f!==r&&a.push(f._initReady()["catch"](t))}var s=i.forages.slice(0);return L["default"].all(a).then(function(){return n.db=i.db,l(n)}).then(function(e){return n.db=e,v(n,r._defaultConfig.version)?d(n):e}).then(function(e){n.db=i.db=e,r._dbInfo=n;for(var t=0;t<s.length;t++){var o=s[t];o!==r&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}})}function _(e,t){var r=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var n=new L["default"](function(t,n){r.ready().then(function(){var o=r._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=i.get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),p(e)&&(e=y(e)),t(e)},a.onerror=function(){n(a.error)}})["catch"](n)});return(0,C["default"])(n,t),n}function m(e,t){var r=this,n=new L["default"](function(t,n){r.ready().then(function(){var o=r._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=i.openCursor(),u=1;a.onsuccess=function(){var r=a.result;if(r){var n=r.value;p(n)&&(n=y(n));var o=e(n,r.key,u++);void 0!==o?t(o):r["continue"]()}else t()},a.onerror=function(){n(a.error)}})["catch"](n)});return(0,C["default"])(n,t),n}function w(e,t,r){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new L["default"](function(r,o){var i;n.ready().then(function(){return i=n._dbInfo,t instanceof Blob?u(i.db).then(function(e){return e?t:h(t)}):t}).then(function(t){var n=i.db.transaction(i.storeName,"readwrite"),a=n.objectStore(i.storeName);null===t&&(t=void 0),n.oncomplete=function(){void 0===t&&(t=null),r(t)},n.onabort=n.onerror=function(){var e=u.error?u.error:u.transaction.error;o(e)};var u=a.put(t,e)})["catch"](o)});return(0,C["default"])(o,r),o}function S(e,t){var r=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var n=new L["default"](function(t,n){r.ready().then(function(){var o=r._dbInfo,i=o.db.transaction(o.storeName,"readwrite"),a=i.objectStore(o.storeName),u=a["delete"](e);i.oncomplete=function(){t()},i.onerror=function(){n(u.error)},i.onabort=function(){var e=u.error?u.error:u.transaction.error;n(e)}})["catch"](n)});return(0,C["default"])(n,t),n}function E(e){var t=this,r=new L["default"](function(e,r){t.ready().then(function(){var n=t._dbInfo,o=n.db.transaction(n.storeName,"readwrite"),i=o.objectStore(n.storeName),a=i.clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;r(e)}})["catch"](r)});return(0,C["default"])(r,e),r}function I(e){var t=this,r=new L["default"](function(e,r){t.ready().then(function(){var n=t._dbInfo,o=n.db.transaction(n.storeName,"readonly").objectStore(n.storeName),i=o.count();i.onsuccess=function(){e(i.result)},i.onerror=function(){r(i.error)}})["catch"](r)});return(0,C["default"])(r,e),r}function x(e,t){var r=this,n=new L["default"](function(t,n){return 0>e?void t(null):void r.ready().then(function(){var o=r._dbInfo,i=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName),a=!1,u=i.openCursor();u.onsuccess=function(){var r=u.result;return r?void(0===e?t(r.key):a?t(r.key):(a=!0,r.advance(e))):void t(null)},u.onerror=function(){n(u.error)}})["catch"](n)});return(0,C["default"])(n,t),n}function A(e){var t=this,r=new L["default"](function(e,r){t.ready().then(function(){var n=t._dbInfo,o=n.db.transaction(n.storeName,"readonly").objectStore(n.storeName),i=o.openCursor(),a=[];i.onsuccess=function(){var t=i.result;return t?(a.push(t.key),void t["continue"]()):void e(a)},i.onerror=function(){r(i.error)}})["catch"](r)});return(0,C["default"])(r,e),r}t.__esModule=!0;var R,j,k=r(4),N=n(k),D=r(5),O=n(D),B=r(1),L=n(B),T=r(2),C=n(T),M="local-forage-detect-blob-support",F={_driver:"asyncStorage",_initStorage:g,iterate:m,getItem:_,setItem:w,removeItem:S,clear:E,length:I,key:x,keys:A};t["default"]=F,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=this,r={};if(e)for(var n in e)r[n]=e[n];return r.keyPrefix=r.name+"/",r.storeName!==t._defaultConfig.storeName&&(r.keyPrefix+=r.storeName+"/"),t._dbInfo=r,r.serializer=h["default"],p["default"].resolve()}function i(e){var t=this,r=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(e)&&localStorage.removeItem(n)}});return(0,g["default"])(r,e),r}function a(e,t){var r=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var n=r.ready().then(function(){var t=r._dbInfo,n=localStorage.getItem(t.keyPrefix+e);return n&&(n=t.serializer.deserialize(n)),n});return(0,g["default"])(n,t),n}function u(e,t){var r=this,n=r.ready().then(function(){for(var t=r._dbInfo,n=t.keyPrefix,o=n.length,i=localStorage.length,a=1,u=0;i>u;u++){var f=localStorage.key(u);if(0===f.indexOf(n)){var s=localStorage.getItem(f);if(s&&(s=t.serializer.deserialize(s)),s=e(s,f.substring(o),a++),void 0!==s)return s}}});return(0,g["default"])(n,t),n}function f(e,t){var r=this,n=r.ready().then(function(){var t,n=r._dbInfo;try{t=localStorage.key(e)}catch(o){t=null}return t&&(t=t.substring(n.keyPrefix.length)),t});return(0,g["default"])(n,t),n}function s(e){var t=this,r=t.ready().then(function(){for(var e=t._dbInfo,r=localStorage.length,n=[],o=0;r>o;o++)0===localStorage.key(o).indexOf(e.keyPrefix)&&n.push(localStorage.key(o).substring(e.keyPrefix.length));return n});return(0,g["default"])(r,e),r}function c(e){var t=this,r=t.keys().then(function(e){return e.length});return(0,g["default"])(r,e),r}function l(e,t){var r=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var n=r.ready().then(function(){var t=r._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return(0,g["default"])(n,t),n}function d(e,t,r){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=n.ready().then(function(){void 0===t&&(t=null);var r=t;return new p["default"](function(o,i){var a=n._dbInfo;a.serializer.serialize(t,function(t,n){if(n)i(n);else try{localStorage.setItem(a.keyPrefix+e,t),o(r)}catch(u){"QuotaExceededError"!==u.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==u.name||i(u),i(u)}})})});return(0,g["default"])(o,r),o}t.__esModule=!0;var v=r(3),h=n(v),y=r(1),p=n(y),b=r(2),g=n(b),_={_driver:"localStorageWrapper",_initStorage:o,iterate:u,getItem:a,setItem:d,removeItem:l,clear:i,length:c,key:f,keys:s};t["default"]=_,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=this,r={db:null};if(e)for(var n in e)r[n]="string"!=typeof e[n]?e[n].toString():e[n];var o=new p["default"](function(e,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(o){return n(o)}r.db.transaction(function(o){o.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t._dbInfo=r,e()},function(e,t){n(t)})})});return r.serializer=h["default"],o}function i(e,t){var r=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var n=new p["default"](function(t,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){r.executeSql("SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),t(n)},function(e,t){n(t)})})})["catch"](n)});return(0,g["default"])(n,t),n}function a(e,t){var r=this,n=new p["default"](function(t,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){r.executeSql("SELECT * FROM "+o.storeName,[],function(r,n){for(var i=n.rows,a=i.length,u=0;a>u;u++){var f=i.item(u),s=f.value;if(s&&(s=o.serializer.deserialize(s)),s=e(s,f.key,u+1),void 0!==s)return void t(s)}t()},function(e,t){n(t)})})})["catch"](n)});return(0,g["default"])(n,t),n}function u(e,t,r){var n=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new p["default"](function(r,o){n.ready().then(function(){void 0===t&&(t=null);var i=t,a=n._dbInfo;a.serializer.serialize(t,function(t,n){n?o(n):a.db.transaction(function(n){n.executeSql("INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){r(i)},function(e,t){o(t)})},function(e){e.code===e.QUOTA_ERR&&o(e)})})})["catch"](o)});return(0,g["default"])(o,r),o}function f(e,t){var r=this;"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e));var n=new p["default"](function(t,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){r.executeSql("DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){n(t)})})})["catch"](n)});return(0,g["default"])(n,t),n}function s(e){var t=this,r=new p["default"](function(e,r){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(t){t.executeSql("DELETE FROM "+n.storeName,[],function(){e()},function(e,t){r(t)})})})["catch"](r)});return(0,g["default"])(r,e),r}function c(e){var t=this,r=new p["default"](function(e,r){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+n.storeName,[],function(t,r){var n=r.rows.item(0).c;e(n)},function(e,t){r(t)})})})["catch"](r)});return(0,g["default"])(r,e),r}function l(e,t){var r=this,n=new p["default"](function(t,n){r.ready().then(function(){var o=r._dbInfo;o.db.transaction(function(r){r.executeSql("SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,r){var n=r.rows.length?r.rows.item(0).key:null;t(n)},function(e,t){n(t)})})})["catch"](n)});return(0,g["default"])(n,t),n}function d(e){var t=this,r=new p["default"](function(e,r){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(t){t.executeSql("SELECT key FROM "+n.storeName,[],function(t,r){for(var n=[],o=0;o<r.rows.length;o++)n.push(r.rows.item(o).key);e(n)},function(e,t){r(t)})})})["catch"](r)});return(0,g["default"])(r,e),r}t.__esModule=!0;var v=r(3),h=n(v),y=r(1),p=n(y),b=r(2),g=n(b),_={_driver:"webSQLStorage",_initStorage:o,iterate:a,getItem:i,setItem:u,removeItem:f,clear:s,length:c,key:l,keys:d};t["default"]=_,e.exports=t["default"]},function(e,t){"use strict";function r(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e["catch"](r)}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){try{return a["default"]?"undefined"!=typeof openDatabase&&"undefined"!=typeof navigator&&navigator.userAgent&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)?!1:a["default"]&&"function"==typeof a["default"].open&&"undefined"!=typeof IDBKeyRange:!1}catch(e){return!1}}t.__esModule=!0;var i=r(5),a=n(i);t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";function r(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(e){return!1}}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(){return"function"==typeof openDatabase}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){(function(t,r){"use strict";function n(){l=!0;for(var e,t,r=d.length;r;){for(t=d,d=[],e=-1;++e<r;)t[e]();r=d.length}l=!1}function o(e){1!==d.push(e)||l||i()}var i,a=t.MutationObserver||t.WebKitMutationObserver;if(r.browser)if(a){var u=0,f=new a(n),s=t.document.createTextNode("");f.observe(s,{characterData:!0}),i=function(){s.data=u=++u%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)i="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var c=new t.MessageChannel;c.port1.onmessage=n,i=function(){c.port2.postMessage(0)}}else i=function(){r.nextTick(n)};var l,d=[];e.exports=o}).call(t,function(){return this}(),r(6))},function(e,t,r){(function(n){"use strict";function o(){}function i(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,n.browser||(this.handled=m),e!==o&&s(this,e)}function a(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function u(e,t,r){y(function(){var n;try{n=t(r)}catch(o){return p.reject(e,o)}n===e?p.reject(e,new TypeError("Cannot resolve promise with itself")):p.resolve(e,n)})}function f(e){var t=e&&e.then;return e&&"object"==typeof e&&"function"==typeof t?function(){t.apply(e,arguments)}:void 0}function s(e,t){function r(t){i||(i=!0,p.reject(e,t))}function n(t){i||(i=!0,p.resolve(e,t))}function o(){t(n,r)}var i=!1,a=c(o);"error"===a.status&&r(a.value)}function c(e,t){var r={};try{r.value=e(t),r.status="success"}catch(n){r.status="error",r.value=n}return r}function l(e){return e instanceof this?e:p.resolve(new this(o),e)}function d(e){var t=new this(o);return p.reject(t,e)}function v(e){function t(e,t){function o(e){a[t]=e,++u!==n||i||(i=!0,p.resolve(s,a))}r.resolve(e).then(o,function(e){i||(i=!0,p.reject(s,e))})}var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),u=0,f=-1,s=new this(o);++f<n;)t(e[f],f);return s}function h(e){function t(e){r.resolve(e).then(function(e){i||(i=!0,p.resolve(u,e))},function(e){i||(i=!0,p.reject(u,e))})}var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=-1,u=new this(o);++a<n;)t(e[a]);return u}var y=r(14),p={},b=["REJECTED"],g=["FULFILLED"],_=["PENDING"];if(!n.browser)var m=["UNHANDLED"];e.exports=t=i,i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){if("function"!=typeof e&&this.state===g||"function"!=typeof t&&this.state===b)return this;var r=new this.constructor(o);if(n.browser||this.handled===m&&(this.handled=null),this.state!==_){var i=this.state===g?e:t;u(r,i,this.outcome)}else this.queue.push(new a(r,e,t));return r},a.prototype.callFulfilled=function(e){p.resolve(this.promise,e)},a.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},a.prototype.callRejected=function(e){p.reject(this.promise,e)},a.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},p.resolve=function(e,t){var r=c(f,t);if("error"===r.status)return p.reject(e,r.value);var n=r.value;if(n)s(e,n);else{e.state=g,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},p.reject=function(e,t){e.state=b,e.outcome=t,n.browser||e.handled===m&&y(function(){e.handled===m&&n.emit("unhandledRejection",t,e)});for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callRejected(t);return e},t.resolve=l,t.reject=d,t.all=v,t.race=h}).call(t,r(6))},function(e,t,r){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=r(15))}).call(t,function(){return this}())}])});
//# sourceMappingURL=localforage.min.js.map